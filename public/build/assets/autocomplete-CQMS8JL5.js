document.getElementById("searchInput").addEventListener("input",function(){const r=this.value;if(r.length<=2){document.getElementById("searchResults").innerHTML="";return}fetch(`/autocomplete?query=${encodeURIComponent(r)}`).then(t=>t.json()).then(t=>{const a=document.getElementById("searchResults");if(a.innerHTML="",t.length===0){const e=document.createElement("div");e.textContent="No se encontraron resultados.",e.className="text-gray-500 text-center p-4",a.appendChild(e);return}t.forEach(e=>{const o=document.createElement("a");o.href=`/perfil-usuario/${e.slug}`,o.className="flex items-center space-x-4 p-2 border-b hover:bg-gray-100 cursor-pointer";const n=document.createElement("img");e.profile_photo_path?n.src=`/storage/${e.profile_photo_path}`:e.avatar?n.src=e.avatar:n.src="https://cdn-icons-png.flaticon.com/512/149/149071.png",n.alt=`${e.name}`,n.className="w-12 h-12 rounded-full";const c=document.createElement("span");c.textContent=e.name,c.className="text-gray-800 font-medium",o.appendChild(n),o.appendChild(c),a.appendChild(o)})}).catch(t=>{console.error("Error fetching autocomplete results:",t)})});
